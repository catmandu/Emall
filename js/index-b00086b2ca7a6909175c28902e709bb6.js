(function(){angular.module("emallclq").controller("CarouselDotCtrl",["$scope",function(e){return e.$on("MOVE_SLIDE",function(t,n){return e.setClass(n)}),e.setClass=function(t){return e.activeClass=e._getImage(t)===e.image?"active":""}}]),angular.module("emallclq").controller("CarouselCtrl",["$scope","$http",function(e,t){return t.get("/promos.json").success(function(t){var n,r,s;for(r=0,s=t.length;s>r;r++)n=t[r],e.carousel.images.push(n.image.slider.url);return e.carousel.slideImages=[e.carousel.images[e._lastIndex()],e.carousel.images[0],e.carousel.images[1]]}),e.carousel={images:[],currentSlide:0},e._lastIndex=function(){return e.carousel.images.length-1},e._indexOf=function(t){return e.carousel.images.indexOf(t)},e._getImage=function(t){return e.carousel.images[e._index(t)]},e._index=function(t){return 0>t&&(t=e.carousel.images.length+t),t%=e.carousel.images.length},e.moveLeft=function(){return e.carousel.currentSlide=e._index(e.carousel.currentSlide+1),e.$broadcast("MOVE_SLIDE",e.carousel.currentSlide)},e.moveRight=function(){return e.carousel.currentSlide=e._index(e.carousel.currentSlide-1),e.$broadcast("MOVE_SLIDE",e.carousel.currentSlide)},e._afterMoveLeftAnimation=function(){return e.carousel.slideImages.shift(),e.carousel.slideImages.push(e._getImage(e._indexOf(e.carousel.slideImages[1])+1))},e._afterMoveRightAnimation=function(){return e.carousel.slideImages.pop(),e.carousel.slideImages.unshift(e._getImage(e._indexOf(e.carousel.slideImages[0])-1))}}])}).call(this),function(){angular.module("emallclq").directive("ngCarousel",["$document",function(){return{controller:["$scope","$element","$attrs",function(e,t){return e.resetPositions=function(){var e;return e=$(t).find(".promos-carousel-item").eq(0),e.css({left:-1*e.width()}),e=$(t).find(".promos-carousel-item").eq(1),e.css({left:0*e.width()}),e=$(t).find(".promos-carousel-item").eq(2),e.css({left:1*e.width()})}}],link:function(e,t,n){return e.$watch(n.ngCarousel,function(){return e.resetPositions()}),e.$watch(n.ngModel,function(t,n){return n===t?e.resetPositions():(n===e._lastIndex()&&(n=-1),t===n+1?e.slideLeft():e.slideRight())}),e.slideLeft=function(){var n;return n=$(t).find(".promos-carousel-item"),n.each(function(e,t){return $(t).animate({left:parseInt($(t).css("left"))-$(t).width()},"slow")}),n.promise().done(function(){return e._afterMoveLeftAnimation(),e.$apply(),e.resetPositions()})},e.slideRight=function(){var n;return n=$(t).find(".promos-carousel-item"),n.each(function(e,t){return $(t).animate({left:parseInt($(t).css("left"))+$(t).width()},"slow")}),n.promise().done(function(){return e._afterMoveRightAnimation(),e.$apply(),e.resetPositions()})}}}}]),angular.module("emallclq").directive("ngCarouselItem",["$document",function(){return{template:'    <li class="promos-carousel-item">      <img ng-src="{{ image }}" />    </li>  ',replace:!0}}])}.call(this);